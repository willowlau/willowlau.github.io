(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{382:function(e,a,s){"use strict";s.r(a);var t=s(4),r=Object(t.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"oracle使用expdp和impdp数据泵进行导出导入的方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oracle使用expdp和impdp数据泵进行导出导入的方法"}},[e._v("#")]),e._v(" Oracle使用EXPDP和IMPDP数据泵进行导出导入的方法")]),e._v(" "),a("p",[e._v("使用expdp和impdp时应该注重的事项：")]),e._v(" "),a("ol",[a("li",[e._v("exp和imp是客户端工具程序，它们既可以在客户端使用，也可以在服务端使用。")]),e._v(" "),a("li",[e._v("expdp和impdp是服务端的工具程序，他们只能在oracle服务端使用，不能在客户端使用。")]),e._v(" "),a("li",[e._v("imp只适用于exp导出的文件，不适用于expdp导出文件；impdp只适用于expdp导出的文件，而不适用于exp导出文件。")]),e._v(" "),a("li",[e._v("对于10g以上的服务器，使用exp通常不能导出0行数据的空表，而此时必须使用expdp导出。")])]),e._v(" "),a("h3",{attrs:{id:"一、创建逻辑目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、创建逻辑目录"}},[e._v("#")]),e._v(" 一、创建逻辑目录")]),e._v(" "),a("p",[e._v("该命令不会在操作系统创建真正的目录（请先创建真正的目录），最好以system等管理员创建逻辑目录。")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SQL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("conn system"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("manger"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@orcl")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("as")]),e._v(" sysdba\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SQL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("create")]),e._v(" directory dump_dir "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("as")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'d:\\test\\dump'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("h3",{attrs:{id:"二、查看管理员目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#二、查看管理员目录"}},[e._v("#")]),e._v(" 二、查看管理员目录")]),e._v(" "),a("p",[e._v("同时查看操作系统是否存在，因为oracle并不关心该目录是否存在，假如不存在，则出错")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SQL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("select")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("from")]),e._v(" dba_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("三、给scott用户赋予在指定目录的操作权限，最好以system等管理员赋予。")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SQL")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("grant")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("read")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("write")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("on")]),e._v(" directory dump_dir "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("to")]),e._v(" scott"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h3",{attrs:{id:"四、用expdp导出数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#四、用expdp导出数据"}},[e._v("#")]),e._v(" 四、用expdp导出数据")]),e._v(" "),a("h4",{attrs:{id:"_4-1、导出用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-1、导出用户"}},[e._v("#")]),e._v(" 4.1、导出用户")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[e._v("expdp scott"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("tiger"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@orcl")]),e._v(" schemas"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("scott "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("dumpfile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("expdp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dmp directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("dump_dir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-2、导出表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-2、导出表"}},[e._v("#")]),e._v(" 4.2、导出表")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[e._v("expdp scott"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("tiger"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@orcl")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("tables")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("emp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("dept "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("dumpfile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("expdp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dmp directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("dump_dir"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-3、按查询条件导"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-3、按查询条件导"}},[e._v("#")]),e._v(" 4.3、按查询条件导")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[e._v("expdp scott"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("tiger"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@orcl")]),e._v(" directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("dump_dir "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("dumpfile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("expdp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dmp "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("tables")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("empquery"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'where deptno=20'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-4、按表空间导"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-4、按表空间导"}},[e._v("#")]),e._v(" 4.4、按表空间导")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[e._v("expdp system"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("manager"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@orcl")]),e._v(" directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("dump_dir "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("dumpfile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("tablespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dmptablespaces"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("temp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h4",{attrs:{id:"_4-5、导整个数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-5、导整个数据库"}},[e._v("#")]),e._v(" 4.5、导整个数据库")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[e._v("expdp system"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("manager"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@orcl")]),e._v(" directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("dump_dir "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("dumpfile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("full")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dmp "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("full")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h3",{attrs:{id:"五、用impdp导入数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#五、用impdp导入数据"}},[e._v("#")]),e._v(" 五、用impdp导入数据")]),e._v(" "),a("h4",{attrs:{id:"_5-1、导入用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-1、导入用户"}},[e._v("#")]),e._v(" 5.1、导入用户")]),e._v(" "),a("p",[e._v("从用户scott导入到用户scott")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[e._v("impdp scott"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("tiger"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@orcl")]),e._v(" directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("dump_dir "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("dumpfile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("expdp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dmp schemas"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("scott"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h4",{attrs:{id:"_5-2、导入表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-2、导入表"}},[e._v("#")]),e._v(" 5.2、导入表")]),e._v(" "),a("p",[e._v("从scott用户中把表dept和emp导入到system用户中")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[e._v("impdp system"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("manager"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@orcl")]),e._v(" directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("dump_dir "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("dumpfile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("expdp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dmptables"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("scott"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dept"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("scott"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("emp remap_schema"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("scott:system"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h4",{attrs:{id:"_5-3、导入表空间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-3、导入表空间"}},[e._v("#")]),e._v(" 5.3、导入表空间")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[e._v("impdp system"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("manager"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@orcl")]),e._v(" directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("dump_dir "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("dumpfile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("tablespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dmp tablespaces"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h4",{attrs:{id:"_5-4、导入数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-4、导入数据库"}},[e._v("#")]),e._v(" 5.4、导入数据库")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[e._v("impdb system"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("manager"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@orcl")]),e._v(" directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("dump_dir "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("dumpfile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("full")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dmp "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("full")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("y"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h4",{attrs:{id:"_5-5、追加数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-5、追加数据"}},[e._v("#")]),e._v(" 5.5、追加数据")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[e._v("impdp system"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("/")]),e._v("manager"),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@orcl")]),e._v(" directory"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("dump_dir "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("dumpfile")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("expdp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("dmp schemas"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("systemtable_exists_action\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("oracle数据泵备份（Expdp命令）\n　　Oracle备份方式主要分为数据泵导出备份、热备份与冷备份三种，今天首先 来实践一下数据泵备份与还原。数据泵导出/导入属于逻辑备份，热备份与冷备份都属于物理备份。oracle10g开始推出了数据泵（expdp /impdp），可以使用并行参数选项，因此，相对于传统的exp命令来说，执行效率更高。")]),e._v(" "),a("h3",{attrs:{id:"六、知晓expdp命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#六、知晓expdp命令"}},[e._v("#")]),e._v(" 六、知晓expdp命令")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("C:"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("expdp "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-help")]),e._v("\nExport: Release "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("11.1")]),e._v(".0.7.0 - Production on 星期六, "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("28")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("9")]),e._v("月, "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2013")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("10")]),e._v(":21:52\nCopyright "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2003")]),e._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2007")]),e._v(", Oracle.  All rights reserved.\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("p",[e._v("数据泵导出实用程序提供了一种用于在 Oracle 数据库之间传输数据对象的机制。该实用程序可以使用以下命令进行调用:\n示例: expdp scott/tiger DIRECTORY=dmpdir DUMPFILE=scott.dmp\n您可以控制导出的运行方式。具体方法是: 在 'expdp' 命令后输入各种参数。要指定各参数, 请使用关键字:\n格式: expdp KEYWORD=value 或 KEYWORD=(value1,value2,...,valueN)\n示例: expdp scott/tiger DUMPFILE=scott.dmp DIRECTORY=dmpdir SCHEMAS=scot 或 TABLES=(T1:P1,T1:P2), 如果 T1 是分区表USERID 必须是命令行中的第一个参数。")]),e._v(" "),a("h2",{attrs:{id:"关键字-说明-默认"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关键字-说明-默认"}},[e._v("#")]),e._v(" 关键字               说明 (默认)")]),e._v(" "),a("p",[e._v("ATTACH                             连接到现有作业, 例如 ATTACH [=作业名]。\nCOMPRESSION                   减小转储文件内容的大小, 其中有效关键字  值为: ALL, (METADATA_ONLY), DATA_ONLY 和 NONE。\nCONTENT                          指定要卸载的数据, 其中有效关键字  值为: (ALL), DATA_ONLY 和 METADATA_ONLY。\nDATA_OPTIONS                  数据层标记, 其中唯一有效的值为: 使用CLOB格式的 XML_CLOBS-write XML 数据类型。\nDIRECTORY                       供转储文件和日志文件使用的目录对象。\nDUMPFILE                         目标转储文件 (expdat.dmp) 的列表,例如 DUMPFILE=scott1.dmp, scott2.dmp, dmpdir:scott3.dmp\nENCRYPTION                     加密部分或全部转储文件, 其中有效关键字值为: ALL, DATA_ONLY, METADATA_ONLY,ENCRYPTED_COLUMNS_ONLY 或 NONE。\nENCRYPTION_ALGORITHM  指定应如何完成加密, 其中有效关键字值为: (AES128), AES192 和 AES256。\nENCRYPTION_MODE           生成加密密钥的方法, 其中有效关键字值为: DUAL, PASSWORD 和 (TRANSPARENT)。\nENCRYPTION_PASSWORD   用于创建加密列数据的口令关键字。\nESTIMATE                          计算作业估计值, 其中有效关键字值为: (BLOCKS) 和 STATISTICS。\nESTIMATE_ONLY                 在不执行导出的情况下计算作业估计值。\nEXCLUDE                           排除特定的对象类型, 例如 EXCLUDE=TABLE:EMP。--EXCLUDE=[object_type]:[name_clause],[object_type]:[name_clause]")]),e._v(" "),a("p",[e._v("FILESIZE                            以字节为单位指定每个转储文件的大小。")]),e._v(" "),a("p",[e._v("FLASHBACK_SCN                 用于将会话快照设置回以前状态的 SCN。 -- 指定导出特定SCN时刻的表数据")]),e._v(" "),a("p",[e._v("FLASHBACK_TIME                用于获取最接近指定时间的 SCN 的时间。--指定导出特定时间点的表数据，注意FLASHBACK_SCN和FLASHBACK_TIME不能同时使 用")]),e._v(" "),a("p",[e._v("FULL                                  导出整个数据库 (N)。\nHELP                                  显示帮助消息 (N)。\nINCLUDE                            包括特定的对象类型, 例如 INCLUDE=TABLE_DATA。\nJOB_NAME                          要创建的导出作业的名称。\nLOGFILE                             日志文件名 (export.log)。\nNETWORK_LINK                  链接到源系统的远程数据库的名称。\nNOLOGFILE                         不写入日志文件 (N)。\nPARALLEL                           更改当前作业的活动 worker 的数目。\nPARFILE                             指定参数文件。\nQUERY                               用于导出表的子集的谓词子句。QUERY = [schema.][table_name:] query_clause")]),e._v(" "),a("p",[e._v("REMAP_DATA                      指定数据转换函数,例如 REMAP_DATA=EMP.EMPNO:REMAPPKG.EMPNO。\nREUSE_DUMPFILES             覆盖目标转储文件 (如果文件存在) (N)。\nSAMPLE                              要导出的数据的百分比;\nSCHEMAS                           要导出的方案的列表 (登录方案)。\nSTATUS                              在默认值 (0) 将显示可用时的新状态的情况下,要监视的频率 (以秒计) 作业状态。\nTABLES                              标识要导出的表的列表 - 只有一个方案。--[schema_name.]table_name[:partition_name][,…]")]),e._v(" "),a("p",[e._v("TABLESPACES                     标识要导出的表空间的列表。")]),e._v(" "),a("p",[e._v("TRANSPORTABLE                指定是否可以使用可传输方法, 其中有效关键字值为: ALWAYS, (NEVER)。\nTRANSPORT_FULL_CHECK  验证所有表的存储段 (N)。\nTRANSPORT_TABLESPACES 要从中卸载元数据的表空间的列表。\nVERSION                           要导出的对象的版本, 其中有效关键字为:(COMPATIBLE), LATEST 或任何有效的数据库版本。")]),e._v(" "),a("p",[e._v("下列命令在交互模式下有效。\n注: 允许使用缩写")]),e._v(" "),a("h2",{attrs:{id:"命令-说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令-说明"}},[e._v("#")]),e._v(" 命令               说明")]),e._v(" "),a("p",[e._v("ADD_FILE                  向转储文件集中添加转储文件。\nCONTINUE_CLIENT     返回到记录模式。如果处于空闲状态, 将重新启动作业。\nEXIT_CLIENT             退出客户机会话并使作业处于运行状态。\nFILESIZE                   后续 ADD_FILE 命令的默认文件大小 (字节)。\nHELP                        总结交互命令。\nKILL_JOB                  分离和删除作业。\nPARALLEL                 更改当前作业的活动 worker 的数目。PARALLEL=。")]),e._v(" "),a("p",[e._v("REUSE_DUMPFILES       覆盖目标转储文件 (如果文件存在) (N)。\nSTART_JOB              启动/恢复当前作业。\nSTATUS                   在默认值 (0) 将显示可用时的新状态的情况下,要监视的频率 (以秒计) 作业状态。STATUS[=interval]\nSTOP_JOB               顺序关闭执行的作业并退出客户机。STOP_JOB=IMMEDIATE 将立即关闭数据泵作业。")]),e._v(" "),a("h3",{attrs:{id:"七、准备工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#七、准备工作"}},[e._v("#")]),e._v(" 七、准备工作")]),e._v(" "),a("h4",{attrs:{id:"_7-1、查询路径信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-1、查询路径信息"}},[e._v("#")]),e._v(" 7.1、查询路径信息")]),e._v(" "),a("p",[e._v("查看已经创建的路径信息：")]),e._v(" "),a("div",{staticClass:"language-sql line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("SELECT")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("FROM")]),e._v(" dba_directories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h4",{attrs:{id:"_7-2、创建路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-2、创建路径"}},[e._v("#")]),e._v(" 7.2、创建路径")]),e._v(" "),a("p",[e._v("创建路径需要sys权限，需要有create any directory权限才可以创建路径。选项：DIRECTORY=directory_object\nDirectory_object用于指定目录对象名称。需要注意，目录对象是使用CREATE DIRECTORY语句建立的对象，而不是OS目录。")]),e._v(" "),a("p",[e._v("eg: CREATE OR REPLACEdirectory backup_path AS 'D:\\APP\\ORADATA\\db_backup'; --创建路径名为dackup_path的路径，并指向硬盘的指定位置")]),e._v(" "),a("p",[e._v("对新创建的路径进行授权操作：")]),e._v(" "),a("p",[e._v("eg：grant read,write on directory backup_path to orcldev; --将对路径的读写权限分配各orcldev用户。")]),e._v(" "),a("h3",{attrs:{id:"八、expdp操作实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#八、expdp操作实例"}},[e._v("#")]),e._v(" 八、expdp操作实例")]),e._v(" "),a("p",[e._v("执行expdp和impdp命令需要拥有exp_full_database和imp_full_database权限，授权语句如下：\neg：grant exp_full_database,imp_full_database to orcldev;")]),e._v(" "),a("p",[a("strong",[e._v("8.1、导出orcldev这个schema的所用对象[schemas o****r full]")])]),e._v(" "),a("p",[e._v("eg:expdp orcldev/oracle@orcldev directory=backup_pathdumpfile=orcldev_schema.dmp logfile=orcldev_schema_2013.log schemas=orcldev")]),e._v(" "),a("p",[e._v("**8.2、导出orcldev这个用户下的某些表[**"),a("strong",[e._v("tables]")])]),e._v(" "),a("p",[e._v("eg:C:>expdp orcldev/oracle directory=dackup_pathdumpfile=orcldev_table.dmp logfile=orcldev_table_2013.logtables=('TAB_TEST','TAB_A')")]),e._v(" "),a("p",[a("strong",[e._v("8.3")]),e._v("**、只导出orcldev这个用户的元数据[content]**")]),e._v(" "),a("p",[e._v("eg:C:>expdp orcldev/oracle directory=dackup_pathdumpfile=orcldev_meta.dmp logfile=orcldev_meta_2013.log SCHEMAS=orcldevCONTENT=METADATA_ONLY")]),e._v(" "),a("p",[a("strong",[e._v("8.4")]),e._v("**、只导出orcldev这个用户50%的抽样数据[sample]**")]),e._v(" "),a("p",[e._v("eg:C:>expdp orcldev/oracle directory=dackup_pathdumpfile=orcldev_samp.dmp logfile=orcldev_samp_2013.log schemas=orcldevsample=50")]),e._v(" "),a("p",[a("strong",[e._v("8.5、采用并行方式备份整库[parallel]")])]),e._v(" "),a("p",[e._v('parallel参数只有在oracle10g之后的版本（包含10g）有效。\noracle_online：you can use the DUMPFILE parameter during export operations tospecify multiple dump files, by using a substitution variable (%U) in thefilename. This is called a dump file template. The new dump files are createdas they are needed, beginning with 01 for %U, then using 02,03,and so on.\neg:C:>expdporcldev/oracle directory=dackup_path dumpfile=orcldev_parallel_%U.dmplogfile=orcldev_parallel_2013.log parallel=4\n"%U"表示自动生成递增的序列号。')]),e._v(" "),a("p",[a("strong",[e._v("8.6、导出orcldev这个方案对象，但不包含索引[exclude]")])]),e._v(" "),a("p",[e._v("eg: --可以剔除的对象有：VIEW,PACKAGE,FUNCTION,index,constraints,table,schema,user等等\nC:>expdp orcldev/oracle directory=dackup_pathdumpfile=orcldev_exclude.dmp logfile=orcldev_exclude.log SCHEMAS=orcldevEXCLUDE=index\nC:>expdp orcldev/oracle directory=dackup_pathdumpfile=orcldev_exclude.dmp logfile=orcldev_exclude.log SCHEMAS=orcldevEXCLUDE=INDEX:\"LIKE 'TEST%'\"   --导出这个orcldev方案，剔除以TEST开头的索引\nC:>expdp orcldev/oracle directory=dackup_pathdumpfile=orcldev_exclude.dmp logfile=orcldev_exclude.logEXCLUDE=SCHEMA:\"='SCOTT'\"")]),e._v(" "),a("p",[e._v("C:>expdp orcldev/oracle directory=dackup_pathdumpfile=orcldev_exclude.dmp logfile=orcldev_exclude.logEXCLUDE=USER:\"='SCOTT'\"\n--备份整库但剔除SCOTT这个用户的对象。　　\n注意：include与exclude不能同时使用。")]),e._v(" "),a("p",[a("strong",[e._v("8.7、PARFILE选项")])]),e._v(" "),a("p",[e._v("expdp命令可以调用parfile文件，在parfile里可以写备份脚本，可以使用query选项。\nOracle highly recommends that you place QUERY specifications in a parameter file; otherwise, you might have to useoperating system-specific escape characters on the command line before eachquotation mark.\n如expdp.txt内容如下：\nUSERID=orcldev/oracledirectory=dackup_path dumpfile=orcldev_parfile.dmp logfile=orcldev_parfile.logTABLES='TAB_TEST' QUERY=\"WHERETRAN_DATE=TO_DATE('2013-08-31','YYYY-MM-DD')\"\n执行方法：expdp parfile=expdp.txt 即可执行备份\n使用parfile好处是使用query选项是不用使用转义字符，如果将query参数放到外边的话，需要将\"\"进行转义。\neg:\nUNIX写法：\nexpdp orcldev/oracle directory=backup_path dumpfile=2013.dmp logfile=2013.log schemas=orcldev INCLUDE=TABLE:\"IN'TEST_A','TEST_B'\" --在Unix系统执行是需要将单引号进行转义操作，否则会报错。\nWINDOWS写法：\nexpdp orcldev/oracle directory=backup_path dumpfile=2013.dmp logfile=2013.log schemas=orcldev INCLUDE=TABLE:\"IN ('TEST_A','TEST_B')\"")]),e._v(" "),a("p",[a("strong",[e._v("8.8、TABLESPACE导出表空间")])]),e._v(" "),a("p",[e._v("eg:expdp orcldev/oracle directory=backup_path dumpfile=2013.dmplogfile =2013.log tablespaces=user,orcldev")]),e._v(" "),a("p",[a("strong",[e._v("8.9、Version选项")])]),e._v(" "),a("p",[e._v("VERSION选项默认值是COMPATIBLE，即兼容模式。在我们备份的时候，可以指定版本号。\neg:expdp orcldev/oracle directory=backup_path dumpfile=2013.dmplogfile =2013.log full=Y VERSION=10.2.0.4")]),e._v(" "),a("p",[a("strong",[e._v("8.10、FLASHBACK_TIME选项")])]),e._v(" "),a("p",[e._v("指定导出特定时间点的表数据，可以联系一下FLASHBACK功能。\neg:C:>expdp orcldev/oracle directory=dackup_path dumpfile=orcldev_flash.dmplogfile=orcldev_flash.log SCHEMAS=orcldev  FLASHBACK_TIME=\"TO_TIMESTAMP('2013-09-28 14:30:00','DD-MM-YYYYHH24:MI:SS')\"")]),e._v(" "),a("p",[e._v("ORACLE数据泵还原(IMPDP命令)\nOracle数据库还原IMPDP命令是相对于EXPDP命令的，方向是反向的。即对于数据库备份进行还原操作。")]),e._v(" "),a("h3",{attrs:{id:"九、知晓impdp命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#九、知晓impdp命令"}},[e._v("#")]),e._v(" 九、知晓IMPDP命令")]),e._v(" "),a("p",[e._v("C:>impdp -help\nImport: Release 11.1.0.7.0 - Production on 星期六, 28 9月, 2013 15:37:03\nCopyright (c) 2003, 2007, Oracle.  All rights reserved.\n数据泵导入实用程序提供了一种用于在 Oracle 数据库之间传输数据对象的机制。该实用程序可以使用以下命令进行调用:\n示例: impdp scott/tiger DIRECTORY=dmpdir DUMPFILE=scott.dmp\n您可以控制导入的运行方式。具体方法是: 在 'impdp' 命令后输入各种参数。要指定各参数, 请使用关键字:\n格式: impdp KEYWORD=value 或 KEYWORD=(value1,value2,...,valueN)\n示例: impdp scott/tiger DIRECTORY=dmpdir DUMPFILE=scott.dmp USERID 必须是命令行中的第一个参数。")]),e._v(" "),a("h2",{attrs:{id:"关键字-说明-默认-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关键字-说明-默认-2"}},[e._v("#")]),e._v(" 关键字               说明 (默认)")]),e._v(" "),a("p",[e._v("ATTACH                连接到现有作业, 例如 ATTACH [=作业名]。\nCONTENT               指定要加载的数据, 其中有效关键字为:(ALL),DATA_ONLY和METADATA_ONLY。\nDATA_OPTIONS          数据层标记,其中唯一有效的值为:SKIP_CONSTRAINT_ERRORS-约束条件错误不严重。\nDIRECTORY            供转储文件,日志文件和sql文件使用的目录对象。\nDUMPFILE              要从(expdat.dmp)中导入的转储文件的列表,例如 DUMPFILE=scott1.dmp, scott2.dmp, dmpdir:scott3.dmp。\nENCRYPTION_PASSWORD   用于访问加密列数据的口令关键字。此参数对网络导入作业无效。\nESTIMATE              计算作业估计值, 其中有效关键字为:(BLOCKS)和STATISTICS。\nEXCLUDE               排除特定的对象类型, 例如 EXCLUDE=TABLE:EMP。\nFLASHBACK_SCN         用于将会话快照设置回以前状态的 SCN。\nFLASHBACK_TIME        用于获取最接近指定时间的 SCN 的时间。\nFULL                  从源导入全部对象(Y)。\nHELP                  显示帮助消息(N)。\nINCLUDE               包括特定的对象类型, 例如 INCLUDE=TABLE_DATA。\nOB_NAME              要创建的导入作业的名称。\nLOGFILE               日志文件名(import.log)。\nNETWORK_LINK          链接到源系统的远程数据库的名称。\nNOLOGFILE             不写入日志文件。\nPARALLEL              更改当前作业的活动worker的数目。\nPARFILE               指定参数文件。\nPARTITION_OPTIONS     指定应如何转换分区,其中有效关键字为:DEPARTITION,MERGE和(NONE)\nQUERY                 用于导入表的子集的谓词子句。\nREMAP_DATA            指定数据转换函数,例如REMAP_DATA=EMP.EMPNO:REMAPPKG.EMPNO\nREMAP_DATAFILE        在所有DDL语句中重新定义数据文件引用。\nREMAP_SCHEMA          将一个方案中的对象加载到另一个方案。\nREMAP_TABLE           表名重新映射到另一个表,例如 REMAP_TABLE=EMP.EMPNO:REMAPPKG.EMPNO。\nREMAP_TABLESPACE      将表空间对象重新映射到另一个表空间。\nREUSE_DATAFILES       如果表空间已存在, 则将其初始化 (N)。\nSCHEMAS               要导入的方案的列表。\nSKIP_UNUSABLE_INDEXES 跳过设置为无用索引状态的索引。\nSQLFILE               将所有的 SQL DDL 写入指定的文件。\nSTATUS                在默认值(0)将显示可用时的新状态的情况下,要监视的频率(以秒计)作业状态。\nSTREAMS_CONFIGURATION 启用流元数据的加载\nTABLE_EXISTS_ACTION  导入对象已存在时执行的操作。有效关键字:(SKIP),APPEND,REPLACE和TRUNCATE。\nTABLES                标识要导入的表的列表。\nTABLESPACES           标识要导入的表空间的列表。\nTRANSFORM             要应用于适用对象的元数据转换。有效转换关键字为:SEGMENT_ATTRIBUTES,STORAGE,OID和PCTSPACE。\nTRANSPORTABLE         用于选择可传输数据移动的选项。有效关键字为: ALWAYS 和 (NEVER)。仅在 NETWORK_LINK 模式导入操作中有效。\nTRANSPORT_DATAFILES   按可传输模式导入的数据文件的列表。\nTRANSPORT_FULL_CHECK  验证所有表的存储段 (N)。\nTRANSPORT_TABLESPACES 要从中加载元数据的表空间的列表。仅在 NETWORK_LINK 模式导入操作中有效。\nVERSION               要导出的对象的版本, 其中有效关键字为:(COMPATIBLE), LATEST 或任何有效的数据库版本。仅对 NETWORK_LINK 和 SQLFILE 有效。")]),e._v(" "),a("p",[e._v("下列命令在交互模式下有效。\n注: 允许使用缩写")]),e._v(" "),a("h2",{attrs:{id:"命令-说明-默认"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令-说明-默认"}},[e._v("#")]),e._v(" 命令               说明 (默认)")]),e._v(" "),a("p",[e._v("CONTINUE_CLIENT       返回到记录模式。如果处于空闲状态, 将重新启动作业。\nEXIT_CLIENT           退出客户机会话并使作业处于运行状态。\nHELP                  总结交互命令。\nKILL_JOB              分离和删除作业。\nPARALLEL              更改当前作业的活动 worker 的数目。PARALLEL=。\nSTART_JOB             启动/恢复当前作业。START_JOB=SKIP_CURRENT 在开始作业之前将跳过作业停止时执行的任意操作。\nSTATUS                在默认值 (0) 将显示可用时的新状态的情况下,要监视的频率 (以秒计) 作业状态。STATUS[=interval]\nSTOP_JOB              顺序关闭执行的作业并退出客户机。STOP_JOB=IMMEDIATE 将立即关闭数据泵作业。")]),e._v(" "),a("h3",{attrs:{id:"十、impdp操作实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十、impdp操作实例"}},[e._v("#")]),e._v(" 十、impdp操作实例")]),e._v(" "),a("p",[a("strong",[e._v("10.1、全库模式导入[f****ull]")])]),e._v(" "),a("p",[e._v("impdp orcldev/oracle directory=backup_pathdumpfile=orcldev_schema.dmp full=Y table_exists_action=replace --如果表已经存在则进行替换操作。\n一般来说，在还原数据库操作的时候，首先要删除这个用户，然后在进行impdp还原操作。\neg:\n(1)SQL>DROP USER orcldev CASCADE;\n(2)impdp orcldev/oracledirectory=backup_path dumpfile=orcldev_2013.dmp full=Y")]),e._v(" "),a("p",[a("strong",[e._v("10.2、Schema模式导入[schema]")])]),e._v(" "),a("p",[e._v("--还原orcldev这个方案(用户)\nimpdp orcldev/oracle directory=backup_pathdumpfile=orcldev_schema.dmp schemas=orcldev table_exists_action=replace")]),e._v(" "),a("p",[a("strong",[e._v("10.3、表模式导入[table]")])]),e._v(" "),a("p",[e._v("--还原某个用户下的具体的表\n(1)windows版本：\nimpdp orcldev/oracledirectory=backup_path dumpfile=orcldev_table.dmp tables='TAB_TEST'table_exists_action=replace\n(2)unix版本：需要将'单引号进行转义操作\nimpdp orcldev/oracledirectory=backup_path dumpfile=orcldev_table.dmp tables='ius_tran'table_exists_action=replace")]),e._v(" "),a("p",[a("strong",[e._v("10.4、表空间模式导入[tablespace]")])]),e._v(" "),a("p",[e._v("impdp orcldev/oracledirectory=backup_path dumpfile=orcldev_tablespace.dmp tablespace=user,orcldev")]),e._v(" "),a("p",[a("strong",[e._v("10.5、传输表空间模式导入[Transportable Tablespace]")])]),e._v(" "),a("p",[e._v("(1)Oracle_Online\nYou cannot export transportable tablespacesand then import them into a database at a lower release level. The targetdatabase must be at the same or higher release level as the source database.\nThe TRANSPORT_TABLESPACES is valid only whenthe NETWORK_LINK parameter is also specified.\n意思就说，目标库的版本要等于或者高于源数据库的版本，TRANSPORT_TABLESPACES参数选项有效前提条件是NETWORK_LINK参数需被指定。\n查询数据库版本号SQL语句：SELECT *FROM v$version;\nEG:impdp orcldev/oracleDIRECTORY=dackup_path NETWORK_LINK=db_link_test01TRANSPORT_TABLESPACES=test0001 TRANSPORT_FULL_CHECK=nTRANSPORT_DATAFILES='app/oradata/test0001.dbf'")]),e._v(" "),a("p",[e._v("(2)创建数据库dbLink方法：\n语法：\nCREATE [PUBLIC] DATABASE LINK LINK_NAME\nCONNECT TO Username IDENTIFIED BYPassword\nUSING 'ConnectString';\n注释：\n1)创建dblink需要有CREATE DATABASE LINK或CREATE PUBLIC DATABASELINK的系统权限以及用来登录到远程数据库的帐号必须有CREATE SESSION权限。\n2)ConnectString指的是在tnsnames.ora文件中配置的监听名称。\n3)当GLOBAL_NAME=TRUE时，dblink名必须与远程数据库的全局数据库名GLOBAL_NAME相同；否则，可以任意命名。")]),e._v(" "),a("p",[e._v("(3)查看GLOBAL_NAME参数方法：\nSQL> show parametersglobal_name;\n　　NAME                                   TYPE        VALUE\n　  ---------------------------------------------- ------------------------------\n　   global_names                        boolean     FALSE")]),e._v(" "),a("p",[a("strong",[e._v("10.6、REMAP_SCHEMA参数")])]),e._v(" "),a("p",[e._v("众所周知：IMP工具的FROMUSER和TOUSER参数可以实现将一个用户的的数据迁移到另外一个用户。\n(1)impdp数据泵使用REMAP_SCHEMA参数来实现不同用户之间的数据迁移；\n语法：\nREMAP_SCHEMA=source_schema:target_schema\neg:impdp orcldev/oracleDIRECTORY=backup_path DUMPFILE=oracldev.dmp REMAP_SCHEMA=orcldev:orcltwo\n与REMAP_SCHEMA类似的参数选项，如REMAP_TABLESPACE将源表空间的所有对象导入目标表空间。")]),e._v(" "),a("p",[a("strong",[e._v("10.7、REMAP_TABLE参数")])]),e._v(" "),a("p",[e._v("将源表数据映射到不同的目标表中\neg:impdp orcldev/oracle DIRECTORY=backup_pathdumpfile=oracldev.dmp remap_table=TAB_TEST:TEST_TB\n数据导入到TEST_TB表中，但是该表的索引等信息并没有相应的创建，需要手工初始化。")]),e._v(" "),a("p",[a("strong",[e._v("10.8、REMAP_DATAFILE参数")])]),e._v(" "),a("p",[e._v("语法：REMAP_DATAFILE=source_datafile:target_datafile\nOracle_Online:\nRemapping datafiles is useful when youmove databases between platforms that have different file naming conventions.The source_datafile and target_datafile names should be exactly as you wantthem to appear in the SQL statements where they are referenced. Oraclerecommends that you enclose datafile names in quotation marks to eliminateambiguity on platforms for which a colon is a valid file specificationcharacter.")]),e._v(" "),a("p",[a("strong",[e._v("10.9、PARALLEL参数")])]),e._v(" "),a("p",[e._v("使用PARALLEL参数可以提高 数据泵还原的效率，前提是必须有多个expdp的文件，如expdp01.dmp,expdp02.dmp,expdp03dmp等等，不然会有问题。运行impdp命令时，会先启动一个WOrKER进程将METADATA导入,然后再启动多个WORKER进程将数据以及其他对象导入，所以在前期只会看到一个WOrKER在导入METADATA，而且IMPDP也需要DUMP文件是多个，也可以使用%U来进行导入。\neg: impdp orcldev/oracledirectory=backup_path dumpfile=orcldev_schema_%U.dmp schemas=orcldev parallel=4\n备注：而在11GR2后EXPDP和IMDP的WORKER进程会在多个INSTANCE启动，所以DIRECTORY必须在共享磁盘上，如果没有设置共享磁盘还是指定cluster=no来防止报错。")]),e._v(" "),a("p",[a("strong",[e._v("10.10、CONTENT参数")])]),e._v(" "),a("p",[e._v("CONTENT参数选项有ALL,DATA_ONLY和METADATA_ONLY,默认情况是ALL。可以选择只导入元数据或者是只导入数据。\nEG：impdporcldev/oracle directory=backup_path dumpfile=orcldev_schema.dmpschemas=orcldev CONTENT=DATA_ONLY")]),e._v(" "),a("p",[a("strong",[e._v("10.11、include、exclude、parfile、query和version参数选项与EXPDP命令的参数选项一致。")])]),e._v(" "),a("h3",{attrs:{id:"十一、参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#十一、参考资料"}},[e._v("#")]),e._v(" 十一、参考资料")]),e._v(" "),a("p",[e._v("(1)http://docs.oracle.com/cd/B19306_01/server.102/b14215/dp_import.htm#g1025464\n(2)http://www.cnblogs.com/oracle-dba/p/3344230.html\n(3)http://docs.oracle.com/cd/B19306_01/server.102/b14215/dp_export.htm#i1007829")])])}),[],!1,null,null,null);a.default=r.exports}}]);